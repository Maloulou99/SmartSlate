<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Project Information</title>
  <link rel="stylesheet" href="/project-task.css">
</head>
<body>
<h1>Projects Assigned by You</h1>
<table>
  <tr>
    <th>Project ID</th>
    <th>Project Name</th>
    <th>Description</th>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Budget</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>
  <tr th:if="${projects.isEmpty()}">
    <td colspan="8">No projects found... Create a new project!</td>
  </tr>

  <tr th:each="project : ${projects}">
    <td th:text="${project.projectId}"></td>
    <td th:text="${project.projectName}"></td>
    <td th:text="${project.description}"></td>
    <td th:text="${#temporals.format(project.startDate, 'dd-MM-yyyy')}"></td>
    <td th:text="${#temporals.format(project.endDate, 'dd-MM-yyyy')}"></td>
    <td th:text="${project.budget}"></td>
    <td th:text="${project.status}"></td>
    <td>
      <a th:href="@{'/projects/update/' + ${project.projectId}}">Update Project</a>
      <a th:href="@{/projects/delete/{projectId}/{userid}(projectId=${project.projectId}, userid=${user.userID})}" onclick="return confirm('Are you sure you want to delete this project?')">Delete Project</a>
      <th:block th:if="${not #lists.isEmpty(tasks)}">
        <a th:href="@{'/projects/' + ${project.projectId} + '/tasks'}">Show Tasks</a>
      </th:block>
      <th:block th:if="${#lists.isEmpty(tasks)}">
        <a th:href="@{'/projects/' + ${project.projectId} + '/createTask'}">Create Task</a>
      </th:block>
    </td>
  </tr>
</table>
<a href="/projects/create">Create Project</a>
</body>
</html>